[["Ivan", "https://plus.google.com/101147004225363019038", "gp-1329155542484", "<p>it's also useful to include $USER with each line.  that makes it easy to distinguish between commands that you run as yourself and commands that you run as another user in a sub-shell invoked by sudo (e.g. ``sudo -s`` or ``sudo bash -c '{some commands}'``).</p>", 1329155542], ["Jeff&nbsp;Kaufman", "https://plus.google.com/103013777355236494008", "gp-1329157135372", "<p>@<a href=\"https://plus.google.com/101147004225363019038\">Ivan</a>\n At least on my mac, this doesn't work.  Testing with \"sudo -s\", commands I run aren't written to ~jeff/.full_history .  If I set up history logging for root writing to ~root/.full_history they don't go there either (though they do with \"sudo su -\").</p>", 1329157135], ["Jeff&nbsp;Kaufman", "https://plus.google.com/103013777355236494008", "gp-1329157400199", "<p>@<a href=\"https://plus.google.com/101147004225363019038\">Ivan</a>\n The prompt also doesn't take on root's coloring with \"sudo -s\" so I looked more and found sudo's using a SUDO_PS1 environment variable for that.  I tried adding a SUDO_PROMPT_COMMAND out of curiosity, and it doesn't do anything.</p>", 1329157400], ["Ethan", "https://plus.google.com/105507155670392231828", "gp-1337179641155", "<p>Thanks for this tip -- I've been using it for about six months now and it's definitely saved me a couple of times.  (Just this morning I was trying to figure out where on earth I put an essential archive of data from a decommissioned server about a month ago, which I need to unpack onto a new server today -- I couldn't remember what I had named the archive or even whether I left it on my own computer or moved it to another server somewhere, so find wasn't helpful.  Eventually I thought to grep my ~/.full_history for \"scp\" and the IP of the decommissioned server.  Definitely wouldn't have found it any other way.)</p>", 1337179641], ["Daniel", "https://plus.google.com/104241554778763268733", "gp-1475984180832", "<p>I\u2019m going to set this up right away. Hints you might want to include now that you\u2019ve re-featured the article:\n<br>\n<br>\n1. `zsh` has `preexec`, which is exactly what you want, and it also has better history format options but I don\u2019t know if they\u2019re enough.\n<br>\n2. You can add `preexec` to Bash; see \n<a href=\"https://github.com/rcaloras/bash-preexec\">https://github.com/rcaloras/bash-preexec</a>\n.</p>", 1475984180]]